<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>挂鸡污喵王内测版0.1</title>

    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/game.css">
</head>
<body>
    <div class="container">
        <div class="status-bar">
            <div class="status-group">
                <div class="status-item"><span class="status-icon">🔪</span><span>熟练度: <span id="proficiencyDisplay">...</span></span></div>
                <div class="status-item"><span class="status-icon">⭐</span><span>装备等级: <span id="gearScoreDisplay">...</span></span></div>
                <div class="status-item"><span class="status-icon">💰</span><span>金币: <span id="goldDisplay">...</span></span></div>
                <div class="status-item" id="atiyehStaffIcon" style="display: none;"><span class="status-icon">🍗</span><span class="legendary">埃提耶什·守护者的传说之杖</span></div>
            </div>
             <div class="save-button-group">
                <button id="settingsBtn" class="wow-button">设置</button>
            </div>
        </div>

        <div class="content-wrapper">
            <div class="main-column">
                <div class="animation-area" id="animationArea">
                    <div class="scene-indicator" id="sceneIndicator">选择地下城开始</div>
                    <canvas id="gameCanvas" width="900" height="600"></canvas>
                    <div class="instructions">勇士将自动攻击敌人，击败所有敌人进入下一场景</div>
                    <div id="resultScreen">
                        <div class="result-text" id="battleResult"></div>
                        <div class="stats-text" id="survivorsCount"></div>
                        <div class="stats-text" id="battleTime"></div>
                        <div class="countdown-text" id="countdown"></div>
                    </div>
                </div>
                <div class="message-section">
                    <div class="message-header"><span>📜 消息日志</span></div>
                    <div class="message-container" id="messageContainer"><div class="message system">📢 欢迎来到挂鸡污喵王内测版0.1！</div><div class="message system">📢 游戏已初始化，请选择一个地下城开始冒险！</div></div>
                </div>
            </div>
            <div class="sidebar-column">
                 <div class="dungeon-progress-area">
                    <div class="progress-title" id="dungeonProgressTitle">副本进度区域</div>
                    <ul class="boss-list" id="bossList"></ul>
                    <div class="progress-button-container">
                        <button class="wow-button" id="viewProgressBtn">查看地下城进度</button>
                    </div>
                </div>
                <div class="quest-area">
                    <div class="quest-title">📜 任务列表</div><div class="quest-list" id="questList"></div>
                </div>
            </div>
        </div>

        <div class="button-section">
            <div class="button-header">🏰 功能与地下城选择</div>
            <div class="button-row">
                <div class="wow-button" id="characterBtn">角色</div>
                <div class="wow-button" id="dungeon5Btn">5人地下城</div>
                <div class="wow-button" id="dungeon10Btn">10人团队副本</div>
                <div class="wow-button" id="dungeon25Btn">25人团队副本</div>
                <div class="wow-button" id="exchangeBtn">兑换中心</div>
            </div>
        </div>

        <div class="footer-info">
            测试版当前游戏目标为：获取埃提耶什·守护者的传说之杖。参与改进本游戏请加挂鸡污喵王QQ群63825952
        </div>
    </div>

    <div id="progressModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>地下城进度 (点击可直接挑战)</h2>
                <button class="modal-close" id="progressModalCloseBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="dungeon-list-container">
                    <div class="dungeon-list">
                        <h3>5人地下城</h3>
                        <ul id="dungeon5pList"></ul>
                    </div>
                    <div class="dungeon-list">
                        <h3>10人团队副本</h3>
                        <ul id="dungeon10pList"></ul>
                    </div>
                    <div class="dungeon-list">
                        <h3>25人团队副本</h3>
                        <ul id="dungeon25pList"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="exchangeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>兑换中心</h2>
                <button class="modal-close" id="exchangeModalCloseBtn">&times;</button>
            </div>
            <div class="modal-body" id="exchangeModalBody">
            </div>
        </div>
    </div>

    <div id="settingsModal" class="modal">
        <div class="modal-content" style="width: 400px;">
             <div class="modal-header">
                <h2>游戏设置</h2>
                <button class="modal-close" id="settingsModalCloseBtn">&times;</button>
            </div>
            <div class="modal-body settings-button-container">
                <button id="importSaveBtn" class="wow-button">导入存档</button>
                <button id="exportSaveBtn" class="wow-button">导出存档</button>
                <button id="gameHelpBtn" class="wow-button">游戏说明</button>
                <button id="clearSaveBtn" class="wow-button">清除存档</button>
            </div>
        </div>
    </div>

    <div id="helpModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>游戏说明</h2>
                <button class="modal-close" id="helpModalCloseBtn">&times;</button>
            </div>
            <div class="modal-body">
                <h3>欢迎！</h3>
                <p>这是一款放置挂机游戏，灵感来自《魔兽世界：巫妖王之怒》。</p>
                <br>
                <h3>游戏目标：</h3>
                <ul>
                    <li>通过挑战 5/10/25 人副本提升你的装备等级。</li>
                    <li>在 25 人副本“纳克萨玛斯”中收集“埃提耶什的碎片”。</li>
                    <li>完成任务，铸造传说武器！</li>
                </ul>
                <br>
                <h3>提示：</h3>
                <ul>
                    <li>挑战10人副本需要 200 装等，25人副本需要 213 装等。</li>
                    <li>战斗是自动进行的。</li>
                    <li>徽章可以在“兑换中心”换取装备等级或金币。</li>
                </ul>
            </div>
        </div>
    </div>

    <div id="characterModal" class="modal">
        <div class="modal-content character-pane"> <div class="modal-header">
                <h2>角色信息</h2>
                <button class="modal-close" id="characterModalCloseBtn">&times;</button>
            </div>
            <div class="modal-body character-layout">
                <div class="character-stats">
                    <h3>属性 (待添加)</h3>
                    <p>装备等级: <span id="charGearScoreDisplay">...</span></p>
                </div>
                <div class="equipment-grid">
                    <div class="equip-slot" data-slot="head"><span>👑</span><br>头部</div>
                    <div class="equip-slot empty-left"></div> <div class="equip-slot" data-slot="shoulder"><span>💪</span><br>肩部</div>

                    <div class="equip-slot" data-slot="neck"><span>💎</span><br>颈部</div>
                    <div class="equip-slot empty-left"></div>
                    <div class="equip-slot" data-slot="back"><span>🎒</span><br>背部</div>

                    <div class="equip-slot" data-slot="chest"><span>👕</span><br>胸部</div>
                    <div class="equip-slot empty-left"></div>
                    <div class="equip-slot" data-slot="wrist"><span>⌚</span><br>手腕</div>

                    <div class="equip-slot" data-slot="hands"><span>🧤</span><br>手套</div>
                    <div class="equip-slot empty-left"></div>
                     <div class="equip-slot" data-slot="waist"><span>〰️</span><br>腰带</div>

                    <div class="equip-slot" data-slot="legs"><span>👖</span><br>腿部</div>
                    <div class="equip-slot empty-left"></div>
                    <div class="equip-slot" data-slot="feet"><span>👢</span><br>脚</div>

                    <div class="equip-slot" data-slot="finger1"><span>💍</span><br>手指1</div>
                    <div class="equip-slot empty-left"></div>
                    <div class="equip-slot" data-slot="finger2"><span>💍</span><br>手指2</div>

                    <div class="equip-slot" data-slot="trinket1"><span>✨</span><br>饰品1</div>
                    <div class="equip-slot empty-left"></div>
                    <div class="equip-slot" data-slot="trinket2"><span>✨</span><br>饰品2</div>

                    <div class="equip-slot weapon-slot" data-slot="mainhand"><span>⚔️</span><br>主手</div>
                    <div class="equip-slot empty-left"></div>
                    <div class="equip-slot weapon-slot" data-slot="offhand"><span>🛡️</span><br>副手</div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>