const _0x5f1cc0=_0x330b;function _0x330b(_0x4fce92,_0x375e57){const _0x584efc=_0x4af5();return _0x330b=function(_0x4cf2b2,_0x38910d){_0x4cf2b2=_0x4cf2b2-(0x1*0xf2c+0x266*0xf+-0x3165);let _0x41f233=_0x584efc[_0x4cf2b2];return _0x41f233;},_0x330b(_0x4fce92,_0x375e57);}(function(_0x344dab,_0x3ea09d){const _0x1016a1=_0x330b,_0x7176b=_0x344dab();while(!![]){try{const _0x3566c0=parseInt(_0x1016a1(0x1c3))/(0x598+-0x290*-0x2+-0xab7)+-parseInt(_0x1016a1(0x207))/(-0x165f+-0x1*0x1127+0x5*0x7e8)*(parseInt(_0x1016a1(0x1cb))/(0x3*-0xbbd+0x1*-0x2680+-0x2*-0x24dd))+parseInt(_0x1016a1(0x1d0))/(-0x1c7a+0x1989+0x2f5)*(parseInt(_0x1016a1(0x25f))/(-0x13*-0xdf+-0x1727+0x69f))+-parseInt(_0x1016a1(0x269))/(-0x2*0x99d+-0x1609*0x1+-0xd*-0x32d)*(-parseInt(_0x1016a1(0x229))/(0x65*0x2f+0x1dcf+-0x3053))+parseInt(_0x1016a1(0x258))/(-0x2442+0x426+0x44*0x79)*(parseInt(_0x1016a1(0x1c6))/(0x231d+-0xef3*-0x2+0x2*-0x207d))+parseInt(_0x1016a1(0x219))/(-0x802+0x63*0x22+0x28d*-0x2)+-parseInt(_0x1016a1(0x1e4))/(0x13f1+0xf85*-0x2+-0x4*-0x2c9);if(_0x3566c0===_0x3ea09d)break;else _0x7176b['push'](_0x7176b['shift']());}catch(_0xffdb4f){_0x7176b['push'](_0x7176b['shift']());}}}(_0x4af5,0x7eb32+0x88c69+-0x81904));import{elements,initElements}from'./ui/domElements.js';import{addMessage}from'./ui/messageLog.js';import{updateDungeonProgressDisplay,updateStatsDisplay}from'./ui/mainDisplay.js';import{updateQuestDisplay}from'./ui/questUI.js';import{openProgressModal,closeProgressModal}from'./ui/modalProgress.js';import{openExchangeModal,updateExchangeModal}from'./ui/modalExchange.js';import{openCharacterModal}from'./ui/modalCharacter.js';import{handleTooltipShow,handleTooltipHide,handleTooltipMove}from'./ui/tooltipManager.js';import{initSettingsModalListeners}from'./ui/modalSettings.js';import{openCollectiblesModal}from'./ui/modalCollectibles.js';import{gameState}from'./core/gameState.js';import{loadGame,applySavedCompletionStatus,saveGame}from'./core/saveManager.js';import{initializeDungeonLists,initializeQuests,checkAndApplyLegendaryDropRates,questConfig}from'./core/initialization.js';import{createBattleGame,battleGame}from'./core/battleCallbacks.js';import{startNewDungeon,startSpecificDungeon}from'./core/gameLoop.js';import{ITEM_DATA}from'./data/item-data.js';import{claimQuestRewardHandler,exchangeBadgeHandler}from'./core/eventHandlers.js';import{callbacks}from'./core/callbackRegistry.js';function _0x4af5(){const _0x4474ca=['qbCik','characterB','vahCs','DhRKN','addEventLi','Error\x20duri','Initial\x20UI','rs\x20startin','odalBody\x20i','odalBody','inding/UI\x20','auGLx','nitial\x20UI\x20','ial\x20initia','Resuming\x20d','ated','kddXa','wUALu','...','lvbhI','\x20displays\x20','7733064ZKPJOo','Loaded','characterM','nUBVe','\x20initializ','MoqzA','sDSmc','5jqHkJp','ts\x20finishe','恢复进行中的副本\x20','stener','BaBOE','yAJXW','ssBtn\x20is\x20n','无效:','kPZBo','bossesDefe','32532ixnJMI','steners\x20ad','tarted','Settings/H','mouseover','viewProgre','LuiLP','buzGG','message','eoRWJ','hHXza','racterModa','initGame\x20f','innerHTML','980885dTSMGT','OaCTa','dkFiY','9wRFVLJ','jNXiE','esBtn\x20is\x20n','zyyfg','handleExch','6JxWYQs','ungeon...','console.','n\x20is\x20null','mousemove','996312iavgFV','system','\x20registere','esBtn','存档或联系管理员。<','ded\x20to\x20cha','exchangeBt','rs\x20finishe','Global\x20err','mouseout','teners...','type','on\x20---','collectibl','tn\x20listene','Tooltip\x20li','---\x20Execut','</p><p>请清除','sDStu','entListene','37683096zWODzf','elp\x20listen','on\x20finishe','Calling\x20bi','DOMContent','cTzem','QQZhf','OZGQr','存档中的\x20curre','r\x20added.','currentDun','name','qNoXE','update:','BWcft','xHbKo','log','Game\x20state','vaiSd','/p>','ncLir','bindEventL','dungeon5Bt','ssBtn','ntDungeon\x20','claimQuest','---\x20bindEv','UI\x20setup\x20f','itializati','lization/b','BgeoS','QUVie','ZxYwZ','ange','重错误:','92090yWElHc','ull','\x20loaded:','Updating\x20i','lBody.','---\x20Sequen','ase\x20check\x20','KFkzJ','ToUCi','Data\x20lists','tial\x20UI\x20in','d\x20---','geon','ailed.\x20Ple','ndEventLis','esBtn\x20list','pXWaw','iECAP','8287090zPavLi','ing\x20sequen','initElemen','isteners\x20f','bMoTo','size','Calling\x20in','ed.','JRBnb','error','<h1>初始化失败<','ener\x20added','dungeon25B','游戏初始化期间发生严','displays..','s\x20null','1344maQETF','ng\x20sequent','载时发生严重错误:\x20','nrqPY','itElements','body','initGame\x20s','or\x20handler','click','inished','Diafr','tn\x20is\x20null','kkBhO','ers\x20initia','g\x20---','akycH','dungeon10B','MjoMA','updated.','LteEQ','inished.','tHiUD','iagTC','lized.','hWEjn','/h1><p>游戏加'];_0x4af5=function(){return _0x4474ca;};return _0x4af5();}import{requestAndManageWakeLock}from'./services/wakeLock.js';import{registerGlobalErrorHandler}from'./services/errorHandler.js';function initGame(){const _0x504bb7=_0x330b,_0x1a291b={'nUBVe':_0x504bb7(0x22f)+_0x504bb7(0x26b),'QUVie':function(_0x5a5d91){return _0x5a5d91();},'KFkzJ':_0x504bb7(0x1f5)+_0x504bb7(0x209),'kPZBo':function(_0x70126a){return _0x70126a();},'JRBnb':function(_0x66a1e4,_0x3bc9ec){return _0x66a1e4(_0x3bc9ec);},'buzGG':function(_0x4664c9){return _0x4664c9();},'ncLir':function(_0x511fa2,_0x3f7e0c,_0x501214){return _0x511fa2(_0x3f7e0c,_0x501214);},'qNoXE':_0x504bb7(0x210)+_0x504bb7(0x25c)+_0x504bb7(0x220),'sDStu':_0x504bb7(0x1e0)+_0x504bb7(0x21a)+_0x504bb7(0x211)+_0x504bb7(0x200)+_0x504bb7(0x1dc),'sDSmc':_0x504bb7(0x21f)+_0x504bb7(0x22d)+_0x504bb7(0x255),'bMoTo':_0x504bb7(0x21b)+_0x504bb7(0x260)+'d.','iagTC':_0x504bb7(0x1e7)+_0x504bb7(0x215)+_0x504bb7(0x1da),'tHiUD':function(_0x306ca9){return _0x306ca9();},'ZxYwZ':_0x504bb7(0x1f9)+_0x504bb7(0x21c)+_0x504bb7(0x23d),'MoqzA':_0x504bb7(0x20a)+_0x504bb7(0x24f)+_0x504bb7(0x227)+'.','cTzem':function(_0x5c2d11,_0xdea780,_0x730911){return _0x5c2d11(_0xdea780,_0x730911);},'nrqPY':_0x504bb7(0x249)+_0x504bb7(0x257)+_0x504bb7(0x23b),'jNXiE':function(_0xfbf293){return _0xfbf293();},'LuiLP':_0x504bb7(0x251)+_0x504bb7(0x1cc),'BWcft':_0x504bb7(0x1d1),'BgeoS':function(_0x4bab91,_0x5a4be3,_0x2e11bc){return _0x4bab91(_0x5a4be3,_0x2e11bc);},'lvbhI':_0x504bb7(0x1ec)+_0x504bb7(0x1fc)+_0x504bb7(0x266),'BaBOE':_0x504bb7(0x1d8)+_0x504bb7(0x230)+_0x504bb7(0x1d2)+'d.','ToUCi':_0x504bb7(0x20c)+_0x504bb7(0x211)+_0x504bb7(0x200)+_0x504bb7(0x1e6)+_0x504bb7(0x212),'auGLx':_0x504bb7(0x248)+_0x504bb7(0x22a)+_0x504bb7(0x250)+_0x504bb7(0x201)+_0x504bb7(0x24d)+_0x504bb7(0x1f1),'vahCs':_0x504bb7(0x1ff)+_0x504bb7(0x214)+_0x504bb7(0x20d)+_0x504bb7(0x1cd),'MjoMA':_0x504bb7(0x222),'zyyfg':_0x504bb7(0x226)+_0x504bb7(0x206),'iECAP':_0x504bb7(0x1c1)+_0x504bb7(0x232)};let _0x598ea8;console[_0x504bb7(0x1f4)](_0x1a291b[_0x504bb7(0x25b)]);try{const {loadMessage:_0x107b52,loadedState:_0x4ec49e}=_0x1a291b[_0x504bb7(0x203)](loadGame);_0x598ea8=_0x107b52,console[_0x504bb7(0x1f4)](_0x1a291b[_0x504bb7(0x20e)],_0x598ea8),_0x1a291b[_0x504bb7(0x267)](initializeDungeonLists);_0x4ec49e&&_0x1a291b[_0x504bb7(0x221)](applySavedCompletionStatus,_0x4ec49e);_0x1a291b[_0x504bb7(0x270)](initializeQuests),_0x1a291b[_0x504bb7(0x270)](checkAndApplyLegendaryDropRates),_0x1a291b[_0x504bb7(0x1f8)](createBattleGame,addMessage,updateStatsDisplay),console[_0x504bb7(0x1f4)](_0x1a291b[_0x504bb7(0x1f0)]),console[_0x504bb7(0x1f4)](_0x1a291b[_0x504bb7(0x1e2)]);try{console[_0x504bb7(0x1f4)](_0x1a291b[_0x504bb7(0x25e)]),_0x1a291b[_0x504bb7(0x203)](initElements),console[_0x504bb7(0x1f4)](_0x1a291b[_0x504bb7(0x21d)]);_0x598ea8&&_0x1a291b[_0x504bb7(0x1f8)](addMessage,_0x598ea8[_0x504bb7(0x271)],_0x598ea8[_0x504bb7(0x1db)]);console[_0x504bb7(0x1f4)](_0x1a291b[_0x504bb7(0x23f)]),_0x1a291b[_0x504bb7(0x23e)](bindEventListeners),console[_0x504bb7(0x1f4)](_0x1a291b[_0x504bb7(0x204)]),console[_0x504bb7(0x1f4)](_0x1a291b[_0x504bb7(0x25d)]),_0x1a291b[_0x504bb7(0x267)](updateStatsDisplay),_0x1a291b[_0x504bb7(0x1e9)](updateQuestDisplay,questConfig,callbacks[_0x504bb7(0x1fd)]),_0x1a291b[_0x504bb7(0x270)](updateDungeonProgressDisplay),console[_0x504bb7(0x1f4)](_0x1a291b[_0x504bb7(0x22c)]),_0x1a291b[_0x504bb7(0x1c7)](requestAndManageWakeLock);if(gameState[_0x504bb7(0x1ee)+_0x504bb7(0x213)]){console[_0x504bb7(0x1f4)](_0x1a291b[_0x504bb7(0x26f)]),_0x1a291b[_0x504bb7(0x1f8)](addMessage,_0x504bb7(0x261)+gameState[_0x504bb7(0x1ee)+_0x504bb7(0x213)][_0x504bb7(0x1ef)]+_0x504bb7(0x255),_0x1a291b[_0x504bb7(0x1f2)]);if(gameState[_0x504bb7(0x1ee)+_0x504bb7(0x213)][_0x504bb7(0x1ef)]){const _0x6f2105={'name':gameState[_0x504bb7(0x1ee)+_0x504bb7(0x213)][_0x504bb7(0x1ef)],'size':gameState[_0x504bb7(0x1ee)+_0x504bb7(0x213)][_0x504bb7(0x21e)],'bossesDefeated':gameState[_0x504bb7(0x1ee)+_0x504bb7(0x213)][_0x504bb7(0x268)+_0x504bb7(0x252)]};_0x1a291b[_0x504bb7(0x202)](setTimeout,()=>startSpecificDungeon(_0x6f2105,!![]),0x1b*0x11d+0xd7a*-0x1+0x1031*-0x1);}else console[_0x504bb7(0x222)](_0x1a291b[_0x504bb7(0x256)],gameState[_0x504bb7(0x1ee)+_0x504bb7(0x213)]),gameState[_0x504bb7(0x1ee)+_0x504bb7(0x213)]=null,_0x1a291b[_0x504bb7(0x23e)](saveGame);}_0x1a291b[_0x504bb7(0x1c7)](registerGlobalErrorHandler),console[_0x504bb7(0x1f4)](_0x1a291b[_0x504bb7(0x263)]),console[_0x504bb7(0x1f4)](_0x1a291b[_0x504bb7(0x20f)]);}catch(_0x4a78a4){console[_0x504bb7(0x222)](_0x1a291b[_0x504bb7(0x24e)],_0x4a78a4);try{_0x1a291b[_0x504bb7(0x202)](addMessage,_0x1a291b[_0x504bb7(0x245)],_0x1a291b[_0x504bb7(0x23a)]);}catch(_0x4df3f4){}}}catch(_0x330646){console[_0x504bb7(0x222)](_0x1a291b[_0x504bb7(0x1c9)],_0x330646);try{document[_0x504bb7(0x22e)][_0x504bb7(0x1c2)]=_0x504bb7(0x223)+_0x504bb7(0x242)+_0x504bb7(0x22b)+_0x330646[_0x504bb7(0x271)]+(_0x504bb7(0x1e1)+_0x504bb7(0x1d4)+_0x504bb7(0x1f7));}catch(_0x2b1aa6){}}console[_0x504bb7(0x1f4)](_0x1a291b[_0x504bb7(0x218)]);}function bindEventListeners(){const _0x582868=_0x330b,_0x47ede2={'hWEjn':_0x582868(0x1fe)+_0x582868(0x1e3)+_0x582868(0x24a)+_0x582868(0x237),'akycH':function(_0x476ef9){return _0x476ef9();},'Diafr':_0x582868(0x26c)+_0x582868(0x1e5)+_0x582868(0x236)+_0x582868(0x240),'hHXza':_0x582868(0x231),'OaCTa':_0x582868(0x244)+_0x582868(0x1de)+_0x582868(0x1ed),'LteEQ':_0x582868(0x244)+_0x582868(0x234),'OZGQr':_0x582868(0x26d),'pXWaw':_0x582868(0x1d9),'eoRWJ':_0x582868(0x1cf),'vaiSd':_0x582868(0x1df)+_0x582868(0x26a)+_0x582868(0x1d5)+_0x582868(0x274)+_0x582868(0x20b),'qbCik':_0x582868(0x25a)+_0x582868(0x24b)+_0x582868(0x228),'kkBhO':_0x582868(0x1fa)+_0x582868(0x1ce),'dkFiY':_0x582868(0x239)+_0x582868(0x234),'wUALu':_0x582868(0x225)+_0x582868(0x234),'kddXa':_0x582868(0x26e)+_0x582868(0x265)+_0x582868(0x208),'yAJXW':_0x582868(0x1d6)+_0x582868(0x1ce),'xHbKo':_0x582868(0x1dd)+_0x582868(0x216)+_0x582868(0x224)+'.','DhRKN':_0x582868(0x1dd)+_0x582868(0x1c8)+_0x582868(0x208),'QQZhf':_0x582868(0x1fe)+_0x582868(0x1e3)+_0x582868(0x1d7)+_0x582868(0x212)};console[_0x582868(0x1f4)](_0x47ede2[_0x582868(0x241)]);const _0x37251f=elements;_0x47ede2[_0x582868(0x238)](initSettingsModalListeners),console[_0x582868(0x1f4)](_0x47ede2[_0x582868(0x233)]);_0x37251f[_0x582868(0x244)+'tn']?(_0x37251f[_0x582868(0x244)+'tn'][_0x582868(0x247)+_0x582868(0x262)](_0x47ede2[_0x582868(0x273)],openCharacterModal),console[_0x582868(0x1f4)](_0x47ede2[_0x582868(0x1c4)])):console[_0x582868(0x222)](_0x47ede2[_0x582868(0x23c)]);_0x37251f[_0x582868(0x25a)+_0x582868(0x24c)]?(_0x37251f[_0x582868(0x25a)+_0x582868(0x24c)][_0x582868(0x247)+_0x582868(0x262)](_0x47ede2[_0x582868(0x1eb)],handleTooltipShow),_0x37251f[_0x582868(0x25a)+_0x582868(0x24c)][_0x582868(0x247)+_0x582868(0x262)](_0x47ede2[_0x582868(0x217)],handleTooltipHide),_0x37251f[_0x582868(0x25a)+_0x582868(0x24c)][_0x582868(0x247)+_0x582868(0x262)](_0x47ede2[_0x582868(0x272)],handleTooltipMove),console[_0x582868(0x1f4)](_0x47ede2[_0x582868(0x1f6)])):console[_0x582868(0x222)](_0x47ede2[_0x582868(0x243)]);if(_0x37251f[_0x582868(0x1fa)+'n'])_0x37251f[_0x582868(0x1fa)+'n'][_0x582868(0x247)+_0x582868(0x262)](_0x47ede2[_0x582868(0x273)],()=>startNewDungeon(0x1*0x15d+0x1a*-0x137+0x1e3e));else console[_0x582868(0x222)](_0x47ede2[_0x582868(0x235)]);if(_0x37251f[_0x582868(0x239)+'tn'])_0x37251f[_0x582868(0x239)+'tn'][_0x582868(0x247)+_0x582868(0x262)](_0x47ede2[_0x582868(0x273)],()=>startNewDungeon(-0xda5+-0x9e3*0x1+0x1792));else console[_0x582868(0x222)](_0x47ede2[_0x582868(0x1c5)]);if(_0x37251f[_0x582868(0x225)+'tn'])_0x37251f[_0x582868(0x225)+'tn'][_0x582868(0x247)+_0x582868(0x262)](_0x47ede2[_0x582868(0x273)],()=>startNewDungeon(-0xdee+0x1*0xc37+0x8*0x3a));else console[_0x582868(0x222)](_0x47ede2[_0x582868(0x254)]);if(_0x37251f[_0x582868(0x26e)+_0x582868(0x1fb)])_0x37251f[_0x582868(0x26e)+_0x582868(0x1fb)][_0x582868(0x247)+_0x582868(0x262)](_0x47ede2[_0x582868(0x273)],openProgressModal);else console[_0x582868(0x222)](_0x47ede2[_0x582868(0x253)]);if(_0x37251f[_0x582868(0x1d6)+'n'])_0x37251f[_0x582868(0x1d6)+'n'][_0x582868(0x247)+_0x582868(0x262)](_0x47ede2[_0x582868(0x273)],()=>openExchangeModal(callbacks[_0x582868(0x1ca)+_0x582868(0x205)]));else console[_0x582868(0x222)](_0x47ede2[_0x582868(0x264)]);_0x37251f[_0x582868(0x1dd)+_0x582868(0x1d3)]?(_0x37251f[_0x582868(0x1dd)+_0x582868(0x1d3)][_0x582868(0x247)+_0x582868(0x262)](_0x47ede2[_0x582868(0x273)],openCollectiblesModal),console[_0x582868(0x1f4)](_0x47ede2[_0x582868(0x1f3)])):console[_0x582868(0x222)](_0x47ede2[_0x582868(0x246)]),console[_0x582868(0x1f4)](_0x47ede2[_0x582868(0x1ea)]);}document[_0x5f1cc0(0x247)+_0x5f1cc0(0x262)](_0x5f1cc0(0x1e8)+_0x5f1cc0(0x259),initGame),callbacks[_0x5f1cc0(0x1fd)]=claimQuestRewardHandler,callbacks[_0x5f1cc0(0x1ca)+_0x5f1cc0(0x205)]=exchangeBadgeHandler;