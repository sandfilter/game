const _0x5011e3=_0xd9ab;(function(_0x2dd604,_0x130288){const _0x3bab4a=_0xd9ab,_0x42fa33=_0x2dd604();while(!![]){try{const _0x2ff8ff=-parseInt(_0x3bab4a(0x1d8))/(-0x1*-0x2e6+0x1*0x2371+-0x2656)*(parseInt(_0x3bab4a(0x1df))/(0xe63+-0x1400+-0x59f*-0x1))+parseInt(_0x3bab4a(0x1f8))/(-0x422+-0x162c+0x1a51*0x1)*(parseInt(_0x3bab4a(0x206))/(-0xac*-0x1+-0x48b+-0x1*-0x3e3))+-parseInt(_0x3bab4a(0x1ee))/(0x155a+0x1621+-0x2b76)*(-parseInt(_0x3bab4a(0x20d))/(-0x2025+0xd11+0x3d2*0x5))+parseInt(_0x3bab4a(0x201))/(0x1f0a+0x49*0x56+-0x3789)*(parseInt(_0x3bab4a(0x1e3))/(0x467*-0x3+-0xe95*0x2+0x41*0xa7))+parseInt(_0x3bab4a(0x217))/(0xf*-0x7d+0x258a+-0x1e2e)+parseInt(_0x3bab4a(0x213))/(-0xa6a+-0x21fd+0x1f*0x16f)+-parseInt(_0x3bab4a(0x1ec))/(-0x3f3+-0xeb4+0x12b2)*(parseInt(_0x3bab4a(0x1f3))/(-0x167c+-0x2513+0x3b9b));if(_0x2ff8ff===_0x130288)break;else _0x42fa33['push'](_0x42fa33['shift']());}catch(_0x5a0a70){_0x42fa33['push'](_0x42fa33['shift']());}}}(_0x4c48,-0x10f26+-0x320b2+-0x1a17*-0x4a));import{elements,initElements}from'./ui/domElements.js';import{addMessage}from'./ui/messageLog.js';import{updateDungeonProgressDisplay,updateStatsDisplay}from'./ui/mainDisplay.js';import{updateQuestDisplay}from'./ui/questUI.js';import{openProgressModal}from'./ui/modalProgress.js';import{openCharacterModal}from'./ui/modalCharacter.js';import{handleTooltipShow,handleTooltipHide,handleTooltipMove,handleQuestTooltipShow}from'./ui/tooltipManager.js';function _0x4c48(){const _0x51643c=['dungeon25B','body','type','0|10|5|2|4','mouseover','dungeon10B','characterB','innerHTML','characterM','handleAsce','Loaded','system','currentDun','mousemove','3ueiSpI','bossesDefe','恢复副本\x20','click','ency','FzfEN','ated','274686FWTUHw','nsion','esBtn','ailed:','584GaFupf','Fatal\x20init','VlgOY','cwDBK','MRwhZ','tUI','tbcpn','error','TnUwz','813835MeJqTz','buyProfici','5XcUCCu','dungeon5Bt','ofBjx','gsNKW','RwxbS','96dSVqpy','JZSWZ','|9|7|6|8|1','ndKCE','mouseout','3999CaNiYE','YMCHH','1|13|3|1|1','...','RjVws','split','questList','EtPnn','eHJVa','9212nbqhmk','UaIMe','zDaBP','</p>','viewProgre','1076OnhANg','updateChes','ntainer','ailed.','exchangeBt','reminderCo','collectibl','1037496CuOrDs','/h1><p>','geon','jpCRo','DOMContent','cHcne','2031020NImWRQ','<h1>初始化失败<','message','odalBody','3537900fIZQWa','claimQuest','\x20error:','name','size','VCvrM','FvPFx','ssBtn','RKCIW','stener','VizuF','jJiWj','pMcpa','UI\x20setup\x20f','addEventLi'];_0x4c48=function(){return _0x51643c;};return _0x4c48();}import{initSettingsModalListeners}from'./ui/modalSettings.js';import{openCollectiblesModal}from'./ui/modalCollectibles.js';import{initReminderManager}from'./ui/reminderManager.js';import{gameState}from'./core/gameState.js';import{loadGame,applySavedCompletionStatus,saveGame}from'./core/saveManager.js';import{initializeDungeonLists,initializeQuests,checkAndApplyLegendaryDropRates,questConfig}from'./core/initialization.js';import{createBattleGame}from'./core/battleCallbacks.js';import{startNewDungeon,startSpecificDungeon,startNextAvailableDungeon}from'./core/gameLoop.js';import{claimQuestRewardHandler,buyProficiencyHandler,ascensionHandler}from'./core/eventHandlers.js';import{callbacks}from'./core/callbackRegistry.js';import{requestAndManageWakeLock}from'./services/wakeLock.js';import{registerGlobalErrorHandler}from'./services/errorHandler.js';import{initCheatConsole}from'./services/cheatConsole.js';import{checkDailyReset}from'./core/dailySystem.js';import{initChestUI,updateChestUI}from'./ui/chestUI.js';function _0xd9ab(_0x401f39,_0x52bd08){const _0x4225eb=_0x4c48();return _0xd9ab=function(_0x24bb1f,_0x11a001){_0x24bb1f=_0x24bb1f-(-0x4ee*-0x5+0xad0+-0x21a8);let _0x11420a=_0x4225eb[_0x24bb1f];return _0x11420a;},_0xd9ab(_0x401f39,_0x52bd08);}import{openSlotMachineModal}from'./ui/modalSlotMachine.js';function initGame(){const _0x3e60dd=_0xd9ab,_0x57c16c={'VCvrM':function(_0x57e635){return _0x57e635();},'pMcpa':function(_0x3e5c15){return _0x3e5c15();},'EtPnn':function(_0x2c0c2c,_0x37d5d1){return _0x2c0c2c(_0x37d5d1);},'RjVws':function(_0x5ef0e3){return _0x5ef0e3();},'ndKCE':function(_0x193001){return _0x193001();},'ofBjx':function(_0x52ca67,_0x4f5f7d,_0x182eaf){return _0x52ca67(_0x4f5f7d,_0x182eaf);},'VizuF':_0x3e60dd(0x229)+_0x3e60dd(0x1f5)+_0x3e60dd(0x1fa)+'2','eHJVa':function(_0x20f904){return _0x20f904();},'VlgOY':function(_0x45b44d){return _0x45b44d();},'JZSWZ':function(_0x553f10,_0x176f01,_0x3caa3c){return _0x553f10(_0x176f01,_0x3caa3c);},'zDaBP':function(_0x2959de){return _0x2959de();},'RwxbS':function(_0x107bba,_0x26d657){return _0x107bba(_0x26d657);},'jJiWj':_0x3e60dd(0x1d5),'jpCRo':function(_0x587fe1,_0x36fc44,_0x43dfe7){return _0x587fe1(_0x36fc44,_0x43dfe7);},'MRwhZ':function(_0x5e9bab){return _0x5e9bab();},'RKCIW':_0x3e60dd(0x224)+_0x3e60dd(0x1e2),'YMCHH':function(_0x1bd9f5,_0x21810e,_0x5a1776){return _0x1bd9f5(_0x21810e,_0x5a1776);},'cwDBK':_0x3e60dd(0x224)+_0x3e60dd(0x209),'FvPFx':_0x3e60dd(0x1ea),'gsNKW':_0x3e60dd(0x1e4)+_0x3e60dd(0x219)};let _0x26f224;try{const {loadMessage:_0x335a03,loadedState:_0x26266e}=_0x57c16c[_0x3e60dd(0x21c)](loadGame);_0x26f224=_0x335a03,_0x57c16c[_0x3e60dd(0x223)](initializeDungeonLists);if(_0x26266e)_0x57c16c[_0x3e60dd(0x1ff)](applySavedCompletionStatus,_0x26266e);_0x57c16c[_0x3e60dd(0x1fc)](initializeQuests),_0x57c16c[_0x3e60dd(0x1f6)](checkAndApplyLegendaryDropRates),_0x57c16c[_0x3e60dd(0x1f0)](createBattleGame,addMessage,updateStatsDisplay);try{const _0xbd0ec5=_0x57c16c[_0x3e60dd(0x221)][_0x3e60dd(0x1fd)]('|');let _0x3bfdda=0x1*-0x2653+-0x4*-0x41e+0x5*0x45f;while(!![]){switch(_0xbd0ec5[_0x3bfdda++]){case'0':_0x57c16c[_0x3e60dd(0x200)](initElements);continue;case'1':_0x57c16c[_0x3e60dd(0x200)](registerGlobalErrorHandler);continue;case'2':_0x57c16c[_0x3e60dd(0x1fc)](checkDailyReset);continue;case'3':callbacks[_0x3e60dd(0x207)+_0x3e60dd(0x1e8)]=updateChestUI;continue;case'4':_0x57c16c[_0x3e60dd(0x1fc)](bindEventListeners);continue;case'5':if(_0x26f224)_0x57c16c[_0x3e60dd(0x1f0)](addMessage,_0x26f224[_0x3e60dd(0x215)],_0x26f224[_0x3e60dd(0x228)]);continue;case'6':_0x57c16c[_0x3e60dd(0x1e5)](updateDungeonProgressDisplay);continue;case'7':_0x57c16c[_0x3e60dd(0x1f4)](updateQuestDisplay,questConfig,callbacks[_0x3e60dd(0x218)]);continue;case'8':_0x57c16c[_0x3e60dd(0x200)](requestAndManageWakeLock);continue;case'9':_0x57c16c[_0x3e60dd(0x203)](updateStatsDisplay);continue;case'10':_0x57c16c[_0x3e60dd(0x1f2)](initReminderManager,elements[_0x3e60dd(0x20b)+_0x3e60dd(0x208)]);continue;case'11':if(gameState[_0x3e60dd(0x1d6)+_0x3e60dd(0x20f)]){_0x57c16c[_0x3e60dd(0x1f0)](addMessage,_0x3e60dd(0x1da)+gameState[_0x3e60dd(0x1d6)+_0x3e60dd(0x20f)][_0x3e60dd(0x21a)]+_0x3e60dd(0x1fb),_0x57c16c[_0x3e60dd(0x222)]);if(gameState[_0x3e60dd(0x1d6)+_0x3e60dd(0x20f)][_0x3e60dd(0x21a)])_0x57c16c[_0x3e60dd(0x210)](setTimeout,()=>startSpecificDungeon({'name':gameState[_0x3e60dd(0x1d6)+_0x3e60dd(0x20f)][_0x3e60dd(0x21a)],'size':gameState[_0x3e60dd(0x1d6)+_0x3e60dd(0x20f)][_0x3e60dd(0x21b)],'bossesDefeated':gameState[_0x3e60dd(0x1d6)+_0x3e60dd(0x20f)][_0x3e60dd(0x1d9)+_0x3e60dd(0x1de)]},!![]),-0x243b+0x2304+0x19b);else gameState[_0x3e60dd(0x1d6)+_0x3e60dd(0x20f)]=null,_0x57c16c[_0x3e60dd(0x1e5)](saveGame);}else _0x57c16c[_0x3e60dd(0x1e7)](startNextAvailableDungeon);continue;case'12':_0x57c16c[_0x3e60dd(0x1f6)](initCheatConsole);continue;case'13':_0x57c16c[_0x3e60dd(0x1f6)](initChestUI);continue;}break;}}catch(_0x4d1ce9){console[_0x3e60dd(0x1ea)](_0x57c16c[_0x3e60dd(0x21f)],_0x4d1ce9);try{_0x57c16c[_0x3e60dd(0x1f9)](addMessage,_0x57c16c[_0x3e60dd(0x1e6)],_0x57c16c[_0x3e60dd(0x21d)]);}catch(_0x5319f5){}}}catch(_0x2227a2){console[_0x3e60dd(0x1ea)](_0x57c16c[_0x3e60dd(0x1f1)],_0x2227a2);try{document[_0x3e60dd(0x227)][_0x3e60dd(0x1d1)]=_0x3e60dd(0x214)+_0x3e60dd(0x20e)+_0x2227a2[_0x3e60dd(0x215)]+_0x3e60dd(0x204);}catch(_0x17f115){}}}function bindEventListeners(){const _0x42f308=_0xd9ab,_0x4fb180={'TnUwz':function(_0x44a404,_0x1ea4e6){return _0x44a404(_0x1ea4e6);},'UaIMe':_0x42f308(0x1db),'FzfEN':_0x42f308(0x1ce),'cHcne':_0x42f308(0x1f7),'tbcpn':_0x42f308(0x1d7)},_0x1a9099=elements;_0x4fb180[_0x42f308(0x1eb)](initSettingsModalListeners,callbacks[_0x42f308(0x1d3)+_0x42f308(0x1e0)]);if(_0x1a9099[_0x42f308(0x1d0)+'tn'])_0x1a9099[_0x42f308(0x1d0)+'tn'][_0x42f308(0x225)+_0x42f308(0x220)](_0x4fb180[_0x42f308(0x202)],openCharacterModal);_0x1a9099[_0x42f308(0x1d2)+_0x42f308(0x216)]&&(_0x1a9099[_0x42f308(0x1d2)+_0x42f308(0x216)][_0x42f308(0x225)+_0x42f308(0x220)](_0x4fb180[_0x42f308(0x1dd)],handleTooltipShow),_0x1a9099[_0x42f308(0x1d2)+_0x42f308(0x216)][_0x42f308(0x225)+_0x42f308(0x220)](_0x4fb180[_0x42f308(0x212)],handleTooltipHide),_0x1a9099[_0x42f308(0x1d2)+_0x42f308(0x216)][_0x42f308(0x225)+_0x42f308(0x220)](_0x4fb180[_0x42f308(0x1e9)],handleTooltipMove));_0x1a9099[_0x42f308(0x1fe)]&&(_0x1a9099[_0x42f308(0x1fe)][_0x42f308(0x225)+_0x42f308(0x220)](_0x4fb180[_0x42f308(0x1dd)],handleQuestTooltipShow),_0x1a9099[_0x42f308(0x1fe)][_0x42f308(0x225)+_0x42f308(0x220)](_0x4fb180[_0x42f308(0x212)],handleTooltipHide),_0x1a9099[_0x42f308(0x1fe)][_0x42f308(0x225)+_0x42f308(0x220)](_0x4fb180[_0x42f308(0x1e9)],handleTooltipMove));if(_0x1a9099[_0x42f308(0x1ef)+'n'])_0x1a9099[_0x42f308(0x1ef)+'n'][_0x42f308(0x225)+_0x42f308(0x220)](_0x4fb180[_0x42f308(0x202)],()=>startNewDungeon(-0xcc2+-0x2*-0x46a+0x3*0x151));if(_0x1a9099[_0x42f308(0x1cf)+'tn'])_0x1a9099[_0x42f308(0x1cf)+'tn'][_0x42f308(0x225)+_0x42f308(0x220)](_0x4fb180[_0x42f308(0x202)],()=>startNewDungeon(0x19ab+0x1340+-0x1*0x2ce1));if(_0x1a9099[_0x42f308(0x226)+'tn'])_0x1a9099[_0x42f308(0x226)+'tn'][_0x42f308(0x225)+_0x42f308(0x220)](_0x4fb180[_0x42f308(0x202)],()=>startNewDungeon(0x1b87+0x9*-0x2d+0x19d9*-0x1));if(_0x1a9099[_0x42f308(0x205)+_0x42f308(0x21e)])_0x1a9099[_0x42f308(0x205)+_0x42f308(0x21e)][_0x42f308(0x225)+_0x42f308(0x220)](_0x4fb180[_0x42f308(0x202)],openProgressModal);if(_0x1a9099[_0x42f308(0x20a)+'n'])_0x1a9099[_0x42f308(0x20a)+'n'][_0x42f308(0x225)+_0x42f308(0x220)](_0x4fb180[_0x42f308(0x202)],openSlotMachineModal);if(_0x1a9099[_0x42f308(0x20c)+_0x42f308(0x1e1)])_0x1a9099[_0x42f308(0x20c)+_0x42f308(0x1e1)][_0x42f308(0x225)+_0x42f308(0x220)](_0x4fb180[_0x42f308(0x202)],openCollectiblesModal);}document[_0x5011e3(0x225)+_0x5011e3(0x220)](_0x5011e3(0x211)+_0x5011e3(0x1d4),initGame),callbacks[_0x5011e3(0x218)]=claimQuestRewardHandler,callbacks[_0x5011e3(0x1ed)+_0x5011e3(0x1dc)]=buyProficiencyHandler,callbacks[_0x5011e3(0x1d3)+_0x5011e3(0x1e0)]=ascensionHandler;